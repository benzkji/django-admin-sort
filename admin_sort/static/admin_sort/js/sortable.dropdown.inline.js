var SortableInline=function(a){'use strict';function b(){d=a(".admin-sort-dropdown-inline"),d.each(c)}function c(){function b(){return e.$.hasClass("has-extra")?e.$rows.filter(".has_original"):e.$rows.filter(":visible")}function c(c){this.$=a(this),this.$.addClass("admin-sort-row"),this.$position=a(".admin-sort-position",this.$);var e=this.$position;e.empty();var f=b();if(c+1>f.length)e.append(new Option("-",""));else{a.each(f,function(b){var c=new Option(b+1,b+1);e.append(a(c))});var g=c+1;e.val(g),e.data("previous-value",g),e.off("change"),e.on("change",d)}return this}function d(){this.$=a(this);var b=parseInt(this.$.val()),d=parseInt(this.$.data("previous-value")),f=b-1,g=this.$.closest(e.row_class),h=e.$rows.eq(f);f<d?g.insertBefore(h):g.insertAfter(h),e.$rows=a(e.row_class,e.$set),e.$rows.each(c)}var e=this;return e.$=a(this),e._field=e.$.data("admin-sort-position-field"),e.$add=e.$.find(".add-row"),e.$add.on("click",function(){e.$rows=a(e.row_class,e.$set),e.$rows.each(c)}),e.$.hasClass("admin-sort-tabular")?(e.set_class="fieldset.module tbody",e.row_class=".form-row"):(e.set_class="fieldset.module",e.row_class=".inline-related"),e.$set=a(e.set_class,e.$),e.$rows=a(e.row_class,e.$set),e.$rows.each(c),e}var d,e=a(document);e.ready(b)}(django.jQuery);